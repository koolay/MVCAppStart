var buckets={};(function(){"use strict",buckets.defaultCompare=function(a,b){return a<b?-1:a===b?0:1},buckets.defaultEquals=function(a,b){return a===b},buckets.defaultToString=function(a){return a===null?"BUCKETS_NULL":buckets.isUndefined(a)?"BUCKETS_UNDEFINED":buckets.isString(a)?a:a.toString()},buckets.isFunction=function(a){return typeof a=="function"},buckets.isUndefined=function(a){return typeof a=="undefined"},buckets.isString=function(a){return Object.prototype.toString.call(a)==="[object String]"},buckets.reverseCompareFunction=function(a){return buckets.isFunction(a)?function(b,c){return a(b,c)*-1}:function(a,b){return a<b?1:a===b?0:-1}},buckets.compareToEquals=function(a){return function(b,c){return a(b,c)===0}},buckets.arrays={},buckets.arrays.indexOf=function(a,b,c){var d=c||buckets.defaultEquals,e=a.length;for(var f=0;f<e;f++)if(d(a[f],b))return f;return-1},buckets.arrays.lastIndexOf=function(a,b,c){var d=c||buckets.defaultEquals,e=a.length;for(var f=e-1;f>=0;f--)if(d(a[f],b))return f;return-1},buckets.arrays.contains=function(a,b,c){return buckets.arrays.indexOf(a,b,c)>=0},buckets.arrays.remove=function(a,b,c){var d=buckets.arrays.indexOf(a,b,c);return d<0?!1:(a.splice(d,1),!0)},buckets.arrays.frequency=function(a,b,c){var d=c||buckets.defaultEquals,e=a.length,f=0;for(var g=0;g<e;g++)d(a[g],b)&&f++;return f},buckets.arrays.equals=function(a,b,c){var d=c||buckets.defaultEquals;if(a.length!==b.length)return!1;var e=a.length;for(var f=0;f<e;f++)if(!d(a[f],b[f]))return!1;return!0},buckets.arrays.copy=function(a){return a.concat()},buckets.arrays.swap=function(a,b,c){if(b<0||b>=a.length||c<0||c>=a.length)return!1;var d=a[b];return a[b]=a[c],a[c]=d,!0},buckets.arrays.forEach=function(a,b){var c=a.length;for(var d=0;d<c;d++)if(b(a[d])===!1)return},buckets.LinkedList=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},buckets.LinkedList.prototype.add=function(a,b){buckets.isUndefined(b)&&(b=this.nElements);if(b<0||b>this.nElements||buckets.isUndefined(a))return!1;var c=this.createNode(a);if(this.nElements===0)this.firstNode=c,this.lastNode=c;else if(b===this.nElements)this.lastNode.next=c,this.lastNode=c;else if(b===0)c.next=this.firstNode,this.firstNode=c;else{var d=this.nodeAtIndex(b-1);c.next=d.next,d.next=c}return this.nElements++,!0},buckets.LinkedList.prototype.first=function(){return this.firstNode!==null?this.firstNode.element:undefined},buckets.LinkedList.prototype.last=function(){return this.lastNode!==null?this.lastNode.element:undefined},buckets.LinkedList.prototype.elementAtIndex=function(a){var b=this.nodeAtIndex(a);return b===null?undefined:b.element},buckets.LinkedList.prototype.indexOf=function(a,b){var c=b||buckets.defaultEquals;if(buckets.isUndefined(a))return-1;var d=this.firstNode,e=0;while(d!==null){if(c(d.element,a))return e;e++,d=d.next}return-1},buckets.LinkedList.prototype.contains=function(a,b){return this.indexOf(a,b)>=0},buckets.LinkedList.prototype.remove=function(a,b){var c=b||buckets.defaultEquals;if(this.nElements<1||buckets.isUndefined(a))return!1;var d=null,e=this.firstNode;while(e!==null){if(c(e.element,a))return e===this.firstNode?(this.firstNode=this.firstNode.next,e===this.lastNode&&(this.lastNode=null)):e===this.lastNode?(this.lastNode=d,d.next=e.next,e.next=null):(d.next=e.next,e.next=null),this.nElements--,!0;d=e,e=e.next}return!1},buckets.LinkedList.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},buckets.LinkedList.prototype.equals=function(a,b){var c=b||buckets.defaultEquals;return a instanceof buckets.LinkedList?this.size()!==a.size()?!1:this.equalsAux(this.firstNode,a.firstNode,c):!1},buckets.LinkedList.prototype.equalsAux=function(a,b,c){while(a!==null){if(!c(a.element,b.element))return!1;a=a.next,b=b.next}return!0},buckets.LinkedList.prototype.removeElementAtIndex=function(a){if(a<0||a>=this.nElements)return undefined;var b;if(this.nElements===1)b=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var c=this.nodeAtIndex(a-1);c===null?(b=this.firstNode.element,this.firstNode=this.firstNode.next):c.next===this.lastNode&&(b=this.lastNode.element,this.lastNode=c),c!==null&&(b=c.next.element,c.next=c.next.next)}return this.nElements--,b},buckets.LinkedList.prototype.forEach=function(a){var b=this.firstNode;while(b!==null){if(a(b.element)===!1)break;b=b.next}},buckets.LinkedList.prototype.reverse=function(){var a=null,b=this.firstNode,c=null;while(b!==null)c=b.next,b.next=a,a=b,b=c;c=this.firstNode,this.firstNode=this.lastNode,this.lastNode=c},buckets.LinkedList.prototype.toArray=function(){var a=[],b=this.firstNode;while(b!==null)a.push(b.element),b=b.next;return a},buckets.LinkedList.prototype.size=function(){return this.nElements},buckets.LinkedList.prototype.isEmpty=function(){return this.nElements<=0},buckets.LinkedList.prototype.nodeAtIndex=function(a){if(a<0||a>=this.nElements)return null;if(a===this.nElements-1)return this.lastNode;var b=this.firstNode;for(var c=0;c<a;c++)b=b.next;return b},buckets.LinkedList.prototype.createNode=function(a){return{element:a,next:null}},buckets.Dictionary=function(a){this.table={},this.nElements=0,this.toStr=a||buckets.defaultToString},buckets.Dictionary.prototype.get=function(a){var b=this.table[this.toStr(a)];return buckets.isUndefined(b)?undefined:b.value},buckets.Dictionary.prototype.set=function(a,b){if(buckets.isUndefined(a)||buckets.isUndefined(b))return undefined;var c,d=this.toStr(a),e=this.table[d];return buckets.isUndefined(e)?(this.nElements++,c=undefined):c=e.value,this.table[d]={key:a,value:b},c},buckets.Dictionary.prototype.remove=function(a){var b=this.toStr(a),c=this.table[b];return buckets.isUndefined(c)?undefined:(delete this.table[b],this.nElements--,c.value)},buckets.Dictionary.prototype.keys=function(){var a=[];for(var b in this.table)this.table.hasOwnProperty(b)&&a.push(this.table[b].key);return a},buckets.Dictionary.prototype.values=function(){var a=[];for(var b in this.table)this.table.hasOwnProperty(b)&&a.push(this.table[b].value);return a},buckets.Dictionary.prototype.forEach=function(a){for(var b in this.table)if(this.table.hasOwnProperty(b)){var c=this.table[b],d=a(c.key,c.value);if(d===!1)return}},buckets.Dictionary.prototype.containsKey=function(a){return!buckets.isUndefined(this.get(a))},buckets.Dictionary.prototype.clear=function(){this.table={},this.nElements=0},buckets.Dictionary.prototype.size=function(){return this.nElements},buckets.Dictionary.prototype.isEmpty=function(){return this.nElements<=0},buckets.MultiDictionary=function(a,b){this.parent=new buckets.Dictionary(a),this.equalsF=b||buckets.defaultEquals},buckets.MultiDictionary.prototype.get=function(a){var b=this.parent.get(a);return buckets.isUndefined(b)?[]:buckets.arrays.copy(b)},buckets.MultiDictionary.prototype.set=function(a,b){if(buckets.isUndefined(a)||buckets.isUndefined(b))return!1;if(!this.containsKey(a))return this.parent.set(a,[b]),!0;var c=this.parent.get(a);return buckets.arrays.contains(c,b,this.equalsF)?!1:(c.push(b),!0)},buckets.MultiDictionary.prototype.remove=function(a,b){if(buckets.isUndefined(b)){var c=this.parent.remove(a);return buckets.isUndefined(c)?!1:!0}var d=this.parent.get(a);return buckets.arrays.remove(d,b,this.equalsF)?(d.length===0&&this.parent.remove(a),!0):!1},buckets.MultiDictionary.prototype.keys=function(){return this.parent.keys()},buckets.MultiDictionary.prototype.values=function(){var a=this.parent.values(),b=[];for(var c=0;c<a.length;c++){var d=a[c];for(var e=0;e<d.length;e++)b.push(d[e])}return b},buckets.MultiDictionary.prototype.containsKey=function(a){return this.parent.containsKey(a)},buckets.MultiDictionary.prototype.clear=function(){return this.parent.clear()},buckets.MultiDictionary.prototype.size=function(){return this.parent.size()},buckets.MultiDictionary.prototype.isEmpty=function(){return this.parent.isEmpty()},buckets.Heap=function(a){this.data=[],this.compare=a||buckets.defaultCompare},buckets.Heap.prototype.leftChildIndex=function(a){return 2*a+1},buckets.Heap.prototype.rightChildIndex=function(a){return 2*a+2},buckets.Heap.prototype.parentIndex=function(a){return Math.floor((a-1)/2)},buckets.Heap.prototype.minIndex=function(a,b){return b>=this.data.length?a>=this.data.length?-1:a:this.compare(this.data[a],this.data[b])<=0?a:b},buckets.Heap.prototype.siftUp=function(a){var b=this.parentIndex(a);while(a>0&&this.compare(this.data[b],this.data[a])>0)buckets.arrays.swap(this.data,b,a),a=b,b=this.parentIndex(a)},buckets.Heap.prototype.siftDown=function(a){var b=this.minIndex(this.leftChildIndex(a),this.rightChildIndex(a));while(b>=0&&this.compare(this.data[a],this.data[b])>0)buckets.arrays.swap(this.data,b,a),a=b,b=this.minIndex(this.leftChildIndex(a),this.rightChildIndex(a))},buckets.Heap.prototype.peek=function(){return this.data.length>0?this.data[0]:undefined},buckets.Heap.prototype.add=function(a){return buckets.isUndefined(a)?undefined:(this.data.push(a),this.siftUp(this.data.length-1),!0)},buckets.Heap.prototype.removeRoot=function(){if(this.data.length>0){var a=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),a}return undefined},buckets.Heap.prototype.contains=function(a){var b=buckets.compareToEquals(this.compare);return buckets.arrays.contains(this.data,a,b)},buckets.Heap.prototype.size=function(){return this.data.length},buckets.Heap.prototype.isEmpty=function(){return this.data.length<=0},buckets.Heap.prototype.clear=function(){this.data.length=0},buckets.Heap.prototype.forEach=function(a){buckets.arrays.forEach(this.data,a)},buckets.Stack=function(){this.list=new buckets.LinkedList},buckets.Stack.prototype.push=function(a){return this.list.add(a,0)},buckets.Stack.prototype.add=function(a){return this.list.add(a,0)},buckets.Stack.prototype.pop=function(){return this.list.removeElementAtIndex(0)},buckets.Stack.prototype.peek=function(){return this.list.first()},buckets.Stack.prototype.size=function(){return this.list.size()},buckets.Stack.prototype.contains=function(a,b){return this.list.contains(a,b)},buckets.Stack.prototype.isEmpty=function(){return this.list.isEmpty()},buckets.Stack.prototype.clear=function(){this.list.clear()},buckets.Stack.prototype.forEach=function(a){this.list.forEach(a)},buckets.Queue=function(){this.list=new buckets.LinkedList},buckets.Queue.prototype.enqueue=function(a){return this.list.add(a)},buckets.Queue.prototype.add=function(a){return this.list.add(a)},buckets.Queue.prototype.dequeue=function(){if(this.list.size()!==0){var a=this.list.first();return this.list.removeElementAtIndex(0),a}return undefined},buckets.Queue.prototype.peek=function(){return this.list.size()!==0?this.list.first():undefined},buckets.Queue.prototype.size=function(){return this.list.size()},buckets.Queue.prototype.contains=function(a,b){return this.list.contains(a,b)},buckets.Queue.prototype.isEmpty=function(){return this.list.size()<=0},buckets.Queue.prototype.clear=function(){this.list.clear()},buckets.Queue.prototype.forEach=function(a){this.list.forEach(a)},buckets.PriorityQueue=function(a){this.heap=new buckets.Heap(buckets.reverseCompareFunction(a))},buckets.PriorityQueue.prototype.enqueue=function(a){return this.heap.add(a)},buckets.PriorityQueue.prototype.add=function(a){return this.heap.add(a)},buckets.PriorityQueue.prototype.dequeue=function(){if(this.heap.size()!==0){var a=this.heap.peek();return this.heap.removeRoot(),a}return undefined},buckets.PriorityQueue.prototype.peek=function(){return this.heap.peek()},buckets.PriorityQueue.prototype.contains=function(a){return this.heap.contains(a)},buckets.PriorityQueue.prototype.isEmpty=function(){return this.heap.isEmpty()},buckets.PriorityQueue.prototype.size=function(){return this.heap.size()},buckets.PriorityQueue.prototype.clear=function(){this.heap.clear()},buckets.PriorityQueue.prototype.forEach=function(a){this.heap.forEach(a)},buckets.Set=function(a){this.dictionary=new buckets.Dictionary(a)},buckets.Set.prototype.contains=function(a){return this.dictionary.containsKey(a)},buckets.Set.prototype.add=function(a){return this.contains(a)||buckets.isUndefined(a)?!1:(this.dictionary.set(a,a),!0)},buckets.Set.prototype.intersection=function(a){var b=this;this.forEach(function(c){a.contains(c)||b.remove(c)})},buckets.Set.prototype.union=function(a){var b=this;a.forEach(function(a){b.add(a)})},buckets.Set.prototype.difference=function(a){var b=this;a.forEach(function(a){b.remove(a)})},buckets.Set.prototype.isSubsetOf=function(a){if(this.size()>a.size())return!1;var b=!0;return this.forEach(function(c){if(!a.contains(c))return b=!1,!1}),b},buckets.Set.prototype.remove=function(a){return this.contains(a)?(this.dictionary.remove(a),!0):!1},buckets.Set.prototype.forEach=function(a){this.dictionary.forEach(function(b,c){return a(c)})},buckets.Set.prototype.toArray=function(){return this.dictionary.values()},buckets.Set.prototype.isEmpty=function(){return this.dictionary.isEmpty()},buckets.Set.prototype.size=function(){return this.dictionary.size()},buckets.Set.prototype.clear=function(){this.dictionary.clear()},buckets.Bag=function(a){this.toStrF=a||buckets.defaultToString,this.dictionary=new buckets.Dictionary(this.toStrF),this.nElements=0},buckets.Bag.prototype.add=function(a,b){if(isNaN(b)||buckets.isUndefined(b))b=1;if(buckets.isUndefined(a)||b<=0)return!1;if(!this.contains(a)){var c={value:a,copies:b};this.dictionary.set(a,c)}else this.dictionary.get(a).copies+=b;return this.nElements+=b,!0},buckets.Bag.prototype.count=function(a){return this.contains(a)?this.dictionary.get(a).copies:0},buckets.Bag.prototype.contains=function(a){return this.dictionary.containsKey(a)},buckets.Bag.prototype.remove=function(a,b){if(isNaN(b)||buckets.isUndefined(b))b=1;if(buckets.isUndefined(a)||b<=0)return!1;if(!this.contains(a))return!1;var c=this.dictionary.get(a);return b>c.copies?this.nElements-=c.copies:this.nElements-=b,c.copies-=b,c.copies<=0&&this.dictionary.remove(a),!0},buckets.Bag.prototype.toArray=function(){var a=[],b=this.dictionary.values(),c=b.length;for(var d=0;d<c;d++){var e=b[d],f=e.value,g=e.copies;for(var h=0;h<g;h++)a.push(f)}return a},buckets.Bag.prototype.toSet=function(){var a=new buckets.Set(this.toStrF),b=this.dictionary.values(),c=b.length;for(var d=0;d<c;d++){var e=b[d].value;a.add(e)}return a},buckets.Bag.prototype.forEach=function(a){this.dictionary.forEach(function(b,c){var d=c.value,e=c.copies;for(var f=0;f<e;f++)if(a(d)===!1)return!1;return!0})},buckets.Bag.prototype.size=function(){return this.nElements},buckets.Bag.prototype.isEmpty=function(){return this.nElements===0},buckets.Bag.prototype.clear=function(){this.nElements=0,this.dictionary.clear()},buckets.BSTree=function(a){this.root=null,this.compare=a||buckets.defaultCompare,this.nElements=0},buckets.BSTree.prototype.add=function(a){return buckets.isUndefined(a)?!1:this.insertNode(this.createNode(a))!==null?(this.nElements++,!0):!1},buckets.BSTree.prototype.clear=function(){this.root=null,this.nElements=0},buckets.BSTree.prototype.isEmpty=function(){return this.nElements===0},buckets.BSTree.prototype.size=function(){return this.nElements},buckets.BSTree.prototype.contains=function(a){return buckets.isUndefined(a)?!1:this.searchNode(this.root,a)!==null},buckets.BSTree.prototype.remove=function(a){var b=this.searchNode(this.root,a);return b===null?!1:(this.removeNode(b),this.nElements--,!0)},buckets.BSTree.prototype.inorderTraversal=function(a){this.inorderTraversalAux(this.root,a,{stop:!1})},buckets.BSTree.prototype.preorderTraversal=function(a){this.preorderTraversalAux(this.root,a,{stop:!1})},buckets.BSTree.prototype.postorderTraversal=function(a){this.postorderTraversalAux(this.root,a,{stop:!1})},buckets.BSTree.prototype.levelTraversal=function(a){this.levelTraversalAux(this.root,a)},buckets.BSTree.prototype.minimum=function(){return this.isEmpty()?undefined:this.minimumAux(this.root).element},buckets.BSTree.prototype.maximum=function(){return this.isEmpty()?undefined:this.maximumAux(this.root).element},buckets.BSTree.prototype.forEach=function(a){this.inorderTraversal(a)},buckets.BSTree.prototype.toArray=function(){var a=[];return this.inorderTraversal(function(b){a.push(b)}),a},buckets.BSTree.prototype.height=function(){return this.heightAux(this.root)},buckets.BSTree.prototype.searchNode=function(a,b){var c=null;while(a!==null&&c!==0)c=this.compare(b,a.element),c<0?a=a.leftCh:c>0&&(a=a.rightCh);return a},buckets.BSTree.prototype.transplant=function(a,b){a.parent===null?this.root=b:a===a.parent.leftCh?a.parent.leftCh=b:a.parent.rightCh=b,b!==null&&(b.parent=a.parent)},buckets.BSTree.prototype.removeNode=function(a){if(a.leftCh===null)this.transplant(a,a.rightCh);else if(a.rightCh===null)this.transplant(a,a.leftCh);else{var b=this.minimumAux(a.rightCh);b.parent!==a&&(this.transplant(b,b.rightCh),b.rightCh=a.rightCh,b.rightCh.parent=b),this.transplant(a,b),b.leftCh=a.leftCh,b.leftCh.parent=b}},buckets.BSTree.prototype.inorderTraversalAux=function(a,b,c){if(a===null||c.stop)return;this.inorderTraversalAux(a.leftCh,b,c);if(c.stop)return;c.stop=b(a.element)===!1;if(c.stop)return;this.inorderTraversalAux(a.rightCh,b,c)},buckets.BSTree.prototype.levelTraversalAux=function(a,b){var c=new buckets.Queue;a!==null&&c.enqueue(a);while(!c.isEmpty()){a=c.dequeue();if(b(a.element)===!1)return;a.leftCh!==null&&c.enqueue(a.leftCh),a.rightCh!==null&&c.enqueue(a.rightCh)}},buckets.BSTree.prototype.preorderTraversalAux=function(a,b,c){if(a===null||c.stop)return;c.stop=b(a.element)===!1;if(c.stop)return;this.preorderTraversalAux(a.leftCh,b,c);if(c.stop)return;this.preorderTraversalAux(a.rightCh,b,c)},buckets.BSTree.prototype.postorderTraversalAux=function(a,b,c){if(a===null||c.stop)return;this.postorderTraversalAux(a.leftCh,b,c);if(c.stop)return;this.postorderTraversalAux(a.rightCh,b,c);if(c.stop)return;c.stop=b(a.element)===!1},buckets.BSTree.prototype.minimumAux=function(a){while(a.leftCh!==null)a=a.leftCh;return a},buckets.BSTree.prototype.maximumAux=function(a){while(a.rightCh!==null)a=a.rightCh;return a},buckets.BSTree.prototype.successorNode=function(a){if(a.rightCh!==null)return this.minimumAux(a.rightCh);var b=a.parent;while(b!==null&&a===b.rightCh)a=b,b=a.parent;return b},buckets.BSTree.prototype.heightAux=function(a){return a===null?-1:Math.max(this.heightAux(a.leftCh),this.heightAux(a.rightCh))+1},buckets.BSTree.prototype.insertNode=function(a){var b=null,c=this.root,d=null;while(c!==null){d=this.compare(a.element,c.element);if(d===0)return null;d<0?(b=c,c=c.leftCh):(b=c,c=c.rightCh)}return a.parent=b,b===null?this.root=a:this.compare(a.element,b.element)<0?b.leftCh=a:b.rightCh=a,a},buckets.BSTree.prototype.createNode=function(a){return{element:a,leftCh:null,rightCh:null,parent:null}},typeof module!="undefined"&&(module.exports=buckets)})()